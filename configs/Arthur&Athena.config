#
# ========================
# Target System & Device
# ========================
#
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_jdcloud_re-cs-02=y
# CONFIG_TARGET_MULTI_PROFILE is not set
# CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_jdcloud_re-ss-01 is not set
# CONFIG_TARGET_DEVICE_PACKAGES_qualcommax_ipq60xx_DEVICE_jdcloud_re-cs-02 is not set

#
# ========================
# Global Build Settings
# ========================
#
CONFIG_CCACHE=y
CONFIG_DEVEL=y
CONFIG_TARGET_OPTIONS=y
CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -march=armv8-a+crypto+crc -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53"

#
# ========================
# Core System & Firmware
# ========================
#
CONFIG_ATH11K_MEM_PROFILE_512M=y
CONFIG_NSS_FIRMWARE_VERSION_12_5=y
CONFIG_PACKAGE_default-settings=y
CONFIG_PACKAGE_default-settings-chn=y
# CONFIG_TARGET_PER_DEVICE_ROOTFS is not set
# CONFIG_TARGET_ROOTFS_INITRAMFS is not set

#
# ========================
# Kernel Modules
# ========================
#

# --- USB Support ---
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb-uhci=y
CONFIG_PACKAGE_kmod-usb-ehci=y
CONFIG_PACKAGE_kmod-usb-xhci=y

# --- Filesystem Support (for DiskMan) ---
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_kmod-fs-vfat=y

# --- VPN & Tunnelling (for OpenClash) ---
CONFIG_PACKAGE_kmod-tun=y

# --- Docker Support ---
CONFIG_PACKAGE_kmod-ikconfig=y
CONFIG_PACKAGE_kmod-vhat=y
CONFIG_PACKAGE_kmod-br-netfilter=y
CONFIG_PACKAGE_kmod-ip6tables=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y
CONFIG_PACKAGE_kmod-ipt-extra=y
CONFIG_PACKAGE_kmod-ipt-nat=y
CONFIG_PACKAGE_kmod-ipt-nat6=y
CONFIG_PACKAGE_kmod-ipt-physdev=y
CONFIG_PACKAGE_kmod-nf-ipt6=y
CONFIG_PACKAGE_kmod-nf-ipvs=y
CONFIG_PACKAGE_kmod-nf-nat6=y
CONFIG_PACKAGE_kmod-dummy=y
CONFIG_PACKAGE_kmod-veth=y
CONFIG_PACKAGE_iptables-mod-extra=y
CONFIG_PACKAGE_ip6tables-mod-fullconenat=y
CONFIG_PACKAGE_iptables-mod-fullconenat=y
CONFIG_PACKAGE_libip4tc=y
CONFIG_PACKAGE_libip6tc=y

# --- Other Modules ---
CONFIG_PACKAGE_kmod-lib-lz4=y

#
# ===============================================
# Kernel Features for Docker (cgroups & namespaces)
# THIS IS CRITICAL FOR DOCKER TO RUN
# ===============================================
#
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_CPUACCT=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_MEMCG=y
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_NET_NS=y
CONFIG_KERNEL_PID_NS=y
CONFIG_KERNEL_IPC_NS=y
CONFIG_KERNEL_UTS_NS=y

#
# ========================
# Utilities & Libraries
# ========================
#

# --- Base Utilities ---
CONFIG_PACKAGE_dmesg=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_zoneinfo-asia=y
CONFIG_PACKAGE_openssh-sftp-server=y

# --- Disk & Storage Utilities ---
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_cfdisk=y
CONFIG_PACKAGE_sgdisk=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_ntfs-3g=y
CONFIG_PACKAGE_exfat-mkfs=y
CONFIG_PACKAGE_exfat-fsck=y
CONFIG_PACKAGE_tune2fs=y
CONFIG_PACKAGE_fstrim=y
CONFIG_PACKAGE_mmc-utils=y
CONFIG_PACKAGE_hdparm=y
CONFIG_PACKAGE_smartmontools-drivedb=y

# --- Swap & Memory ---
CONFIG_PACKAGE_zram-swap=y

# --- Networking ---
CONFIG_PACKAGE_sqm-scripts-nss=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_ipset=y

# --- OpenClash Dependencies ---
CONFIG_PACKAGE_clash-meta=y
# CONFIG_PACKAGE_clash-premium is not set
CONFIG_PACKAGE_geoip-shell=y
CONFIG_PACKAGE_geosite-shell=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_libcap=y
CONFIG_PACKAGE_libcap-bin=y
CONFIG_PACKAGE_ruby=y
CONFIG_PACKAGE_ruby-yaml=y

# --- Docker & Containerization ---
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_docker-compose=y

#
# ========================
# LuCI Applications
# ========================
#

# --- 1. System & Status ---
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-app-cpufreq=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-athena-led=y
CONFIG_PACKAGE_luci-i18n-athena-led-zh-cn=y
CONFIG_PACKAGE_luci-app-wifischedule=y
CONFIG_PACKAGE_luci-app-uhttpd=y

# --- 2. Network Services ---
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_luci-app-frps=y
CONFIG_PACKAGE_luci-app-frpc=y
CONFIG_PACKAGE_luci-app-adguardhome=m
CONFIG_PACKAGE_adguardhome=m

# --- 3. VPN / Proxy ---
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-app-openlist=y
CONFIG_PACKAGE_luci-app-openclash=y

# --- 4. Storage & Services ---
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-app-dockerman=y

# --- 5. Security & Filtering ---
CONFIG_PACKAGE_luci-app-oaf=y
#CONFIG_PACKAGE_luci-app-banip=y
#CONFIG_PACKAGE_luci-app-arpbind=y
